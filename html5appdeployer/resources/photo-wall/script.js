var urlParams=new URLSearchParams(window.location.search);var game;var characters=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];onAPIError=function(){document.getElementById("title").innerText="Error in API Call :/"};onDataLoaded=function(e){game=e.id;document.getElementById("title").innerText="Good luck!";document.getElementById("characters").style.display="block";document.getElementById("picture").style.display="block";document.getElementById("word").style.display="block";document.getElementById("create").style.display="none";document.getElementById("word").innerText="test";document.getElementById("picture").src="img/"+(6-e.lives)+".png";document.getElementById("word").innerText=e.word;for(var t=0;t<characters.length;t++){document.getElementById("char-"+characters[t]).setAttribute("aria-disabled",e.guesses.includes(characters[t]))}if(e.lives<1){document.getElementById("title").innerText="You loose!";document.getElementById("characters").style.display="none";document.getElementById("create").style.display="inline"}else if(!e.word.includes("_")){document.getElementById("title").innerText="You win!";document.getElementById("characters").style.display="none";document.getElementById("create").style.display="inline";document.getElementById("photo").style.display="inline"}};onButtonPressed=async function(){var e=this.innerText;let t=await fetch("api/games/"+game+"/guesses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:e})});if(!t.ok){onAPIError()}else{t.json().then(e=>onDataLoaded(e))}};onCreateGame=async function(){let e=await fetch("api/games/",{method:"POST"});if(!e.ok){onAPIError()}else{e.json().then(e=>onDataLoaded(e))}};document.addEventListener("DOMContentLoaded",function(){for(i in characters){var e=document.createElement("button");e.setAttribute("class","fd-button");e.setAttribute("id","char-"+characters[i]);e.innerText=characters[i];document.getElementById("characters").append(e);document.getElementById("char-"+characters[i]).addEventListener("click",onButtonPressed)}document.getElementById("characters").style.display="none";document.getElementById("picture").style.display="none";document.getElementById("word").style.display="none";document.getElementById("title").style.display="block";document.getElementById("create").style.display="inline";document.getElementById("create").addEventListener("click",onCreateGame)});